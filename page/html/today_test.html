<!DOCTYPE html>
<html lang="zh">
<head>
  <meta charset="UTF-8">
  <title>历史demo</title>
</head>
<body>
  <div id="history-list">加载中...</div>
  <div id="date"></div>
  <script>
    // 简化的数据，只留一天
    const date = {
  "01-01": [
    { "year": "1912", "title": "中华民国成立" },
    { "year": "1999", "title": "欧元正式启用" }
  ],
  "01-02": [
    { "year": "1905", "title": "日俄战争爆发" },
    { "year": "1923", "title": "《中国国民党党纲》公布" }
  ],
  "01-03": [
    { "year": "1521", "title": "麦哲伦抵达关岛" },
    { "year": "1989", "title": "长江葛洲坝水利枢纽工程竣工" }
  ],
  "01-04": [
    { "year": "1917", "title": "胡适发起文学改良运动" },
    { "year": "1948", "title": "缅甸独立" }
  ]
};
    function getTodayKey() {
      const now = new Date();
      let month = now.getMonth() + 1;
      let day = now.getDate();
      month = month.toString().padStart(2, "0");
      day = day.toString().padStart(2, "0");
      return `${month}-${day}`;
    }
    function renderHistory(events) {
      const container = document.getElementById("history-list");
      if (!events || events.length === 0) {
        container.innerHTML = "<p>暂无历史事件</p>";
        return;
      }
      let html = "";
      events.forEach(item => {
        html += `<div class="history-item"><span class="year">${item.year}</span> <span class="event">${item.title}</span></div>`;
      });
      container.innerHTML = html;
    }
    function showTodayDate() {
      const now = new Date();
      document.getElementById("date").innerText = `${now.getFullYear()}年 ${now.getMonth()+1}月 ${now.getDate()}日`;
    }
    function loadHistory() {
      try {
        const todayKey = getTodayKey();
        renderHistory(date[todayKey]);
      } catch (err) {
        document.getElementById("history-list").innerText = "加载失败";
        console.error(err);
      }
    }
    document.addEventListener("DOMContentLoaded", () => {
      showTodayDate();
      loadHistory();
    });
  </script>
</body>
</html>